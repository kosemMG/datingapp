<div class="flex w-full gap-6 min-h-100">
    <div class="flex items-center gap-4 w-2/3">
        <label (dragover)="onDragOver($event)"
               (dragleave)="onDragLeave($event)"
               (drop)="onDrop($event)"
               for="dropzone-file"
               [class]="isDragging ? 'border-purple-600 border-4 bg-purple-100' : null"
               class="flex flex-col items-center justify-center w-full h-full
               border-2 border-gray-300 border-dashed rounded-lg cursor-pointer">
            <p class="mb-2 text-lg">Click to upload or drag & drop</p>
            <input type="file" id="dropzone-file" class="hidden">
        </label>
    </div>
    @if (imageSrc(); as imageSrc) {
        <div class="flex flex-col w-1/3 gap-3">
            <div class="flex justify-center border-2 border-gray-300 rounded-lg">
                <img [src]="imageSrc" alt="image preview" class="aspect-square object-cover rounded-lg">
            </div>
            <div class="flex w-full gap-3">
                <button (click)="cancel()" class="btn flex-1">Cancel</button>
                <button (click)="uploadFile()" [disabled]="loading()" class="btn btn-primary  flex-1">
                    @if (!loading()) {
                        Upload
                    } @else {
                        <span class="loading loading-spinner"></span>
                    }
                </button>
            </div>
        </div>
    }
</div>